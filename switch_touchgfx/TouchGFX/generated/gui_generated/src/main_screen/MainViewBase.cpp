/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/main_screen/MainViewBase.hpp>
#include "BitmapDatabase.hpp"
#include <texts/TextKeysAndLanguages.hpp>
#include <touchgfx/Color.hpp>

MainViewBase::MainViewBase() :
    buttonCallback(this, &MainViewBase::buttonCallbackHandler)
{
    black_background1.setXY(0, 0);
    black_background1.setBitmap(Bitmap(BITMAP_BLACK_BACKGROUND_ID));

    clockNum.setXY(60, 101);
    clockNum.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 255, 255));
    clockNum.setLinespacing(0);
    Unicode::snprintf(clockNumBuffer1, CLOCKNUMBUFFER1_SIZE, "%s", TypedText(T_SINGLEUSEID2).getText());
    clockNum.setWildcard1(clockNumBuffer1);
    Unicode::snprintf(clockNumBuffer2, CLOCKNUMBUFFER2_SIZE, "%s", TypedText(T_SINGLEUSEID3).getText());
    clockNum.setWildcard2(clockNumBuffer2);
    clockNum.resizeToCurrentText();
    clockNum.setTypedText(TypedText(T_SINGLEUSEID1));

    clockText.setXY(154, 101);
    clockText.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 255, 255));
    clockText.setLinespacing(0);
    Unicode::snprintf(clockTextBuffer, CLOCKTEXT_SIZE, "%s", TypedText(T_SINGLEUSEID5).getText());
    clockText.setWildcard(clockTextBuffer);
    clockText.resizeToCurrentText();
    clockText.setTypedText(TypedText(T_SINGLEUSEID4));

    buttonZones.setXY(51, 36);
    buttonZones.setBitmaps(Bitmap(BITMAP_BLUE_BUTTONS_ROUND_EDGE_SMALL_ID), Bitmap(BITMAP_BLUE_BUTTONS_ROUND_EDGE_SMALL_PRESSED_ID));
    buttonZones.setAction(buttonCallback);

    zonesView1.setXY(9, 496);

    add(black_background1);
    add(clockNum);
    add(clockText);
    add(buttonZones);
    add(zonesView1);
}

void MainViewBase::setupScreen()
{
    zonesView1.initialize();
}

void MainViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &buttonZones)
    {
        //Interaction1
        //When buttonZones clicked move zonesView1
        //Move zonesView1 to x:9, y:20 with LinearIn easing in 300 ms (18 Ticks)
        zonesView1.clearMoveAnimationEndedAction();
        zonesView1.startMoveAnimation(9, 20, 18, EasingEquations::linearEaseIn, EasingEquations::linearEaseIn);
    }
}
